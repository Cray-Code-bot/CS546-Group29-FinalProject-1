<div class="user-nav">
    <a class="all_accomodations" href="/dashboard">All Accomodations</a>
    <a class="create_post" href="/houses/add">Create Post</a>
    <a class="user_profile" href="/userProfile">User Profile</a>
    <a class="logout" href="/logout">Logout</a>
</div>

<form action="/houses/search" method="get" class="dashboard-form">
    <h2>Search your Accomodation:</h2>
    <div class="search-form">
        <div class="search-group">
            <label for="cityTerm">City</label>
            <input type="text" name="cityTerm" id = "cityTerm" class="search-input">
        </div>
        <div class="search-group">
            <label for="state">State</label>
            <select name="state" id="state" class="search-input">
	             <option value="Alabama">Alabama</option>
    <option value="Alaska">Alaska</option>
    <option value="Arizona">Arizona</option>
    <option value="Arkansas">Arkansas</option>
    <option value="California">California</option>
    <option value="Connecticut">Connecticut</option>
    <option value="Delaware">Delaware</option>
    <option value="Florida">Florida</option>
    <option value="Georgia">Georgia</option>
    <option value="Hawaii">Hawaii</option>
    <option value="Idaho">Idaho</option>
    <option value="Illinois">Illinois</option>
    <option value="Indiana">Indiana</option>
    <option value="Iowa">Iowa</option>
    <option value="Kansas">Kansas</option>
    <option value="Kentucky">Kentucky</option>
    <option value="Louisiana">Louisiana</option>
    <option value="Maine">Maine</option>
    <option value="Maryland">Maryland</option>
    <option value="Massachusetts">Massachusetts</option>
    <option value="Michigan">Michigan</option>
    <option value="Minnesota">Minnesota</option>
    <option value="Mississippi">Mississippi</option>
    <option value="Missouri">Missouri</option>
    <option value="Montana">Montana</option>
    <option value="Nebraska">Nebraska</option>
    <option value="Nevada">Nevada</option>
    <option value="New Hampshire">New Hampshire</option>
    <option value="New Jersey" selected>New Jersey</option>
    <option value="New Mexico">New Mexico</option>
    <option value="New York">New York</option>
    <option value="North Carolina">North Carolina</option>
    <option value="North Dakota">North Dakota</option>
    <option value="Ohio">Ohio</option>
    <option value="Oklahoma">Oklahoma</option>
    <option value="Oregon">Oregon</option>
    <option value="Pennsylvania">Pennsylvania</option>
    <option value="Rhode Island">Rhode Island</option>
    <option value="South Carolina">South Carolina</option>
    <option value="South Dakota">South Dakota</option>
    <option value="Tennessee">Tennessee</option>
    <option value="Texas">Texas</option>
    <option value="Utah">Utah</option>
    <option value="Vermont">Vermont</option>
    <option value="Virginia">Virginia</option>
    <option value="Washington">Washington</option>
    <option value="West Virginia">West Virginia</option>
    <option value="Wisconsin">Wisconsin</option>
    <option value="Wyoming">Wyoming</option>
            </select>
        </div>
        <div class="search-group">
            <label for="roomCategory">Room Category</label>
            <select name="roomCategory" id="roomCategory" class="search-input">
                <option value="private">Single Room</option>
                <option value="shared">Shared Room</option>
            </select>
        </div>
        <div class="search-group">
            <label for="roomType">Room Type</label>
            <select name="roomType" id="roomType" class="search-input">
                <option value="all">All</option>
                <option value="1bhk">1 BHK</option>
                <option value="2bhk">2 BHK</option>
                <option value="3bhk">3 BHK</option>
            </select>
        </div>
        <div class="search-group">
            <label for="gender">Gender Preference:</label>
            <select name="gender" id="gender" class="search-input">
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="anyGender" selected>Any</option>
            </select>
        </div>
        <div class="search-group">
            <button type="submit" class="search-button">Search</button>
        </div>
    </div>
</form>

<form action="/houses/sort" method="GET" class="dashboard-sort-form">
    <div class="sort-form">
        <div class="sort-group">
            <h3>Filters:</h3>
        </div>
        <div class="sort-group">
            <label for="sortBy">Sort By</label>
            <select name="sortBy" id="sortBy">
                <option value="recentPost">Recent Post</option>
                <option value="PriceHL">Price: High to Low</option>
                <option value="PriceLH">Price: Low to High</option>
            </select>
        </div>
        <div class="sort-group">
            <label for="minPrice">Min Price</label>
            <input type="number" name="minPrice" id="minPrice">
        </div>
        <div class="sort-group">
            <label for="maxPrice">Max Price</label>
            <input type="number" name="maxPrice" id="maxPrice">
        </div>
        <div class="sort-group">
            <button type="submit" class="sort-button">Apply</button>
        </div>
    </div>
</form>


<div class="each-house">
    {{#each houses}}
        <div class="dashboard-house">
            <div class="house-title">
                <h2>
                    <a href="/houses/{{_id}}">{{roomType}} {{roomCategory}} in {{city}}, {{state}} for ${{rent}}</a>
                </h2>
                <h3 class="house-rating">Rating: {{#if avg_rating}}{{avg_rating}}/5{{else}}N/A{{/if}}</h3>
            </div>
        </div>
    <article class="main-element">
        <div class="image-container">
            <img class="image" 
            src ="{{#if imageUrls.[0]}}{{imageUrls.[0]}}{{else}}../public/images/No_Image_Available.jpg {{/if}}"
            alt="{{roomType}} {{roomCategory}} in {{city}}, {{state}}">
        </div>
        <div class="address-details">
            <h3>{{#if firstName}} Posted By: {{firstName}}{{else}}N/A{{/if}}{{#if lastName}} {{lastName}}{{else}}N/A{{/if}}</h3>
            <p>PostDate: {{postDate}}</p>
            <address>Address: {{#if address}}{{address}}{{else}}N/A{{/if}},
                {{#if city}}{{city}}{{else}}N/A{{/if}},
                {{#if state}}{{state}}{{else}}N/A{{/if}}
            </address>
        </div>
    </article>
    {{/each}}
</div>